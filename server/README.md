# 動作仕様

## 自動で遷移する状態の一覧

状態 | データベースの値
--- | ---
寝ている | sleeping
怒っている | angry
あくびしている | yawn
よろこんでいる | delightful
いたずら実行中 | escapade

## 自動遷移ルール

一定時間ごとに以下のロジックを回して、ネコの状態を更新する。

* 空腹度が増える
* 食事中だったらうんこ度が増えて空腹度が下がる。
* 一定確率で状態遷移する
* 食事中、じゃれ中、寝ている以外の場合は一定確率で別の人のところへ移動する
  * ねこじゃらしをしている人がいたら一定の確率でその人の場所へ移動し、じゃれている状態にする。移動が起きた場合はねこじゃらしが画面から消える。
  * えさを置いている人がいたら一定の確率でその人の場所へ移動し、食事状態にする。空腹度が高いほど移動しやすい。移動が起きた場合はえさが画面から消える。なつき度が上がるかも。
  * 上記どちらの移動も行わなかった場合は、一定の確率でランダムに場所が変わる
* うんこ度が1を超えていたら、今いる人の場所へうんこをする。うんこ度は0になる。

## アプリ側で設定するFirebaseオブジェクトの値

### family/sample/member/{memberId}/item

* えさを置いたら`"feed"`に設定する。
* ねこじゃらしをしたら`"setaria"`に設定する。
